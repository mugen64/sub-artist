(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{367:function(e,t,r){"use strict";var n=r(7),o=r(30),l=r(31),c=r(279),d=r(72),m=r(15),f=r(54).f,h=r(55).f,v=r(18).f,y=r(376).trim,_="Number",w=n.Number,x=w,S=w.prototype,T=l(r(91)(S))==_,k="trim"in String.prototype,A=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var r,n,o,l=(t=k?t.trim():y(t,3)).charCodeAt(0);if(43===l||45===l){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var code,c=t.slice(2),i=0,m=c.length;i<m;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,n)}}return+t};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof w&&(T?m((function(){S.valueOf.call(r)})):l(r)!=_)?c(new x(A(t)),r,w):A(t)};for(var C,F=r(10)?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;F.length>$;$++)o(x,C=F[$])&&!o(w,C)&&v(w,C,h(x,C));w.prototype=S,S.constructor=w,r(21)(n,_,w)}},368:function(e,t,r){var content=r(379);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("307f849e",content,!0,{sourceMap:!1})},369:function(e,t,r){var content=r(381);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("e95f8ef0",content,!0,{sourceMap:!1})},370:function(e,t,r){var content=r(383);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("a322e13c",content,!0,{sourceMap:!1})},371:function(e,t,r){var content=r(385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("2e107364",content,!0,{sourceMap:!1})},376:function(e,t,r){var n=r(5),o=r(40),l=r(15),c=r(377),d="["+c+"]",m=RegExp("^"+d+d+"*"),f=RegExp(d+d+"*$"),h=function(e,t,r){var o={},d=l((function(){return!!c[e]()||"​"!="​"[e]()})),m=o[e]=d?t(v):c[e];r&&(o[r]=m),n(n.P+n.F*d,"String",o)},v=h.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(m,"")),2&t&&(e=e.replace(f,"")),e};e.exports=h},377:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},378:function(e,t,r){"use strict";r(368)},379:function(e,t,r){var n=r(13)(!1);n.push([e.i,".sart-media-player[data-v-161cb611]{width:100%;min-height:50vh;display:flex;background-color:#000}.sart-media-player__error[data-v-161cb611]{color:#fff;text-align:center;width:100%;height:100%}.sart-media-player__container[data-v-161cb611]{display:flex;width:100%;justify-content:center}",""]),e.exports=n},380:function(e,t,r){"use strict";r(369)},381:function(e,t,r){var n=r(13)(!1);n.push([e.i,".transcript-editor{min-height:60px}",""]),e.exports=n},382:function(e,t,r){"use strict";r(370)},383:function(e,t,r){var n=r(13)(!1);n.push([e.i,".sart-subtitle-preview{padding:.5rem}.sart-subtitle-preview p{cursor:pointer;max-width:50ch}.sart-subtitle-preview p:hover{font-weight:700}@media screen and (max-width:860px){.sart-subtitle-preview p{max-width:80ch}.sart-subtitle-preview__item--actions{display:flex}}",""]),e.exports=n},384:function(e,t,r){"use strict";r(371)},385:function(e,t,r){var n=r(13)(!1);n.push([e.i,".workspace{min-height:80vh}.workspace article{padding:.2rem}.workspace__media-viewer{border-left:none;border-top:none}.workspace__preview{max-height:360px;overflow-y:scroll}",""]),e.exports=n},386:function(e,t,r){"use strict";r.r(t);r(20),r(278),r(367);var n={props:{mediaUri:{type:String,default:null},mediaFile:{type:Object,default:function(){return{}}},maxWidth:{type:[Number,String],default:"600px"}},data:function(){return{}},computed:{mediaError:function(){return this.mediaUri?"Unknown Error":"Please Load Video or Audio File"},isVideo:function(){return"video"===this.mediaFile.kind}},methods:{errorIconClicked:function(){this.mediaUri||this.$emit("req-media-uri")},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.isVideo?this.$refs.videoPlayer:this.$refs.audioPlayer;t.play(),t.currentTime=e},pause:function(){(this.isVideo?this.$refs.videoPlayer:this.$refs.audioPlayer).pause()}}},o=(r(378),r(3)),l=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sart-media-player"},[e.mediaUri?r("div",{staticClass:"sart-media-player__container"},[r("video",{directives:[{name:"show",rawName:"v-show",value:"video"===e.mediaFile.kind,expression:"mediaFile.kind === 'video'"}],ref:"videoPlayer",style:"max-width: "+e.maxWidth+";",attrs:{src:e.mediaUri,controls:""},on:{timeupdate:function(t){return e.$emit("timeupdate",t)},play:function(t){return e.$emit("play",t)},playing:function(t){return e.$emit("pause",t)},pause:function(t){return e.$emit("pause",t)},ended:function(t){return e.$emit("ended",t)},progress:function(t){return e.$emit("progress",t)}}},[e._v("\n      HTML5 Video Not Supported by your Browser\n    ")]),e._v(" "),r("audio",{directives:[{name:"show",rawName:"v-show",value:"audio"===e.mediaFile.kind,expression:"mediaFile.kind === 'audio'"}],ref:"audioPlayer",style:"max-width: "+e.maxWidth+";",attrs:{src:e.mediaUri,controls:""},on:{timeupdate:function(t){return e.$emit("timeupdate",t)},play:function(t){return e.$emit("play",t)},playing:function(t){return e.$emit("pause",t)},pause:function(t){return e.$emit("pause",t)},ended:function(t){return e.$emit("ended",t)},progress:function(t){return e.$emit("progress",t)}}},[e._v("\n      HTML5 Audio Not Supported by your Browser\n    ")])]):r("div",{staticClass:"sart-media-player__error"},[e.mediaUri?r("span",[e._v(" Can't Play ")]):e._e(),e._v(" "),r("br"),e._v(" "),r("material-icon",{staticClass:"txt--large",attrs:{icon:"arrow-right-drop-circle"},nativeOn:{click:function(t){return e.errorIconClicked(t)}}}),e._v(" "),r("br"),e._v("\n    "+e._s(e.mediaError)+"\n  ")],1)])}),[],!1,null,"161cb611",null).exports,c={props:{value:{type:String,required:!0}},data:function(){return{}},computed:{transcript:{set:function(e){this.$emit("input",e)},get:function(){return this.value}}}},d=(r(380),Object(o.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{directives:[{name:"model",rawName:"v-model",value:e.transcript,expression:"transcript"}],staticClass:"transcript-editor fill-width",attrs:{name:"transcript",cols:"20"},domProps:{value:e.transcript},on:{input:function(t){t.target.composing||(e.transcript=t.target.value)}}})}),[],!1,null,null,null).exports);r(29),r(11),r(24),r(32),r(33),r(34);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var h={props:{subtitles:{type:Array,default:function(){return[]}},currentTime:{type:Number,default:0},showActions:{type:Boolean,default:!1},autoScroll:{type:Boolean,default:!0}},data:function(){return{currentSubObserver:null}},computed:{},mounted:function(){this.createObserver()},beforeDestroy:function(){this.stop()},methods:{isCurrentSubtitle:function(sub){return this.$subtitles.isTimeBetween(this.$subtitles.formatDurationFromFloat(this.currentTime),sub.start,sub.end)},createObserver:function(){var e=this;this.currentSubObserver=new MutationObserver((function(t){var r,n=m(t);try{var o=function(){var t=r.value;"attributes"===t.type&&"class"===t.attributeName&&("P"!==t.target.tagName&&"p"!==t.target.tagName||t.target.className.match(/txt-bold-underline/)&&(e.autoScroll&&t.target.scrollIntoView({behavior:"smooth"}),e.$nextTick((function(){e.$emit("scroll-target",t.target)}))))};for(n.s();!(r=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}))},onSubClicked:function(sub){this.$emit("sub-clicked",sub)},start:function(){this.currentSubObserver.observe(this.$refs.subtitlesListContainer,{attributes:!0,childList:!0,subtree:!0})},stop:function(){this.currentSubObserver.disconnect()},deleteCue:function(i){this.$emit("delete",i)}}},v=(r(382),{components:{SartMediaPlayer:l,TranscriptEditor:d,SartSubtitlePreview:Object(o.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"subtitlesListContainer",staticClass:"sart-subtitle-preview"},e._l(e.subtitles,(function(sub,i){return r("p",{key:"sub_"+i,staticClass:"sart-subtitle-preview__item",class:{"txt-bold-underline":e.isCurrentSubtitle(sub)},on:{click:function(t){return e.onSubClicked(sub)}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.showActions,expression:"showActions"}],staticClass:"sart-subtitle-preview__item--actions"},[e._v("\n      "+e._s(sub.start)+" ---\x3e "+e._s(sub.end)+"\n      "),r("button",{staticClass:"txt--danger",on:{click:function(t){return t.stopPropagation(),e.deleteCue(i)}}},[r("material-icon",{attrs:{icon:"delete"}})],1)]),e._v(" "),r("br",{directives:[{name:"show",rawName:"v-show",value:e.showActions,expression:"showActions"}]}),e._v("\n    "+e._s(sub.text)+"\n    "),r("br")])})),0)}),[],!1,null,null,null).exports},data:function(){return{mediaUri:null,mediaFile:{name:"Untitled Media"},fileReader:null,fileWriter:{uri:null,blob:null},currentTime:0,startTime:null,endTime:null,subtitle:"",subtitles:[],showActions:!1,autoScroll:!0,showError:!1,showSuccess:!1,errorText:"",successText:"",playing:!1}},computed:{formattedCurrentTime:function(){return this.$subtitles.formatDurationFromFloat(this.currentTime)}},mounted:function(){var e=this;this.fileReader=new FileReader,this.fileReader.onload=function(t){e.subtitles=e.$subtitles.generateObjArrayFromWebVttText(t.target.result)},this.fileReader.onerror=function(t){e.error("An error ocurred reading the file",t)}},beforeDestroy:function(){this.fileReader.onload=null,this.fileReader.onerror=null,this.mediaUri&&URL.revokeObjectURL(this.mediaUri),this.cleanCurrentFile()},methods:{requestVideo:function(){this.$refs.loadMediaFileBtn.click()},cleanCurrentFile:function(){this.fileWriter.uri&&(URL.revokeObjectURL(this.fileWriter.uri),this.fileWriter.blob=null)},fileLoaded:function(){var e=this.$refs.loadMediaFileBtn.files;if(e.length>0){var t=e[0],r=t.name.lastIndexOf(".");-1===r&&(r=t.name.length);var n=t.name.substring(r+1,t.name.length),o=t.name.substring(r+1,t.name.length);t.type.match(/video/)?(this.mediaUri=URL.createObjectURL(t),this.mediaFile.kind="video",this.mediaFile.type=t.type,this.mediaFile.name=t.name,this.mediaFile.size=t.size,this.mediaFile.fileName=o,this.mediaFile.ext=n):t.type.match(/audio/)?(this.mediaUri=URL.createObjectURL(t),this.mediaFile.kind="audio",this.mediaFile.type=t.type,this.mediaFile.name=t.name,this.mediaFile.size=t.size,this.mediaFile.fileName=o,this.mediaFile.ext=n):t.type.match(/text\/vtt/)||"vtt"===n?this.fileReader&&this.fileReader.readAsText(t,"UTF-8"):this.error("File Type Not Supported")}else this.error("No File Selected")},mediaTimeUpdate:function(e){this.currentTime=e.target.currentTime},start:function(){this.startTime=this.formattedCurrentTime,this.endTime=null},commit:function(){this.startTime&&this.endTime?this.$subtitles.isTimeBefore(this.endTime,this.startTime)?this.error("Cue Times Invalid Make Sure Start is before Endtime and both are captured"):this.subtitles.push({start:this.startTime,end:this.endTime,text:this.subtitle}):this.error("Cue Times Invalid Make Sure Start is before Endtime and both are captured")},jumpToSubTime:function(sub){this.mediaUri&&this.$refs.mediaPlayer.play(this.$subtitles.fromFormattedDurationToFloat(sub.start))},onPlayMedia:function(){this.playing=!0,this.$refs.subtitlePreviewer.start()},onPauseMedia:function(){this.playing=!1,this.$refs.subtitlePreviewer.stop()},toggleMediaPlay:function(){this.playing?(this.$refs.mediaPlayer.pause(),this.playing=!1):(this.$refs.mediaPlayer.play(this.currentTime),this.playing=!0)},deleteCue:function(i){this.subtitles.splice(i,1)},error:function(e){this.showError=!0,this.errorText=e},success:function(e){this.showSuccess=!0,this.successText=e},generate:function(){this.cleanCurrentFile(),this.fileWriter.blob=new Blob([this.$subtitles.generateWebVttTextFromObjArray(this.subtitles,"Subtitles For ".concat(this.mediaFile.name," Generated By Sub Artists"))],{type:"text/vtt;charset=utf-8"}),this.fileWriter.uri=URL.createObjectURL(this.fileWriter.blob),this.success("Successfully Generated For You A File To Download Click Download Button To Download")}}}),y=(r(384),Object(o.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("sart-tiles",{staticClass:"workspace",attrs:{tag:"section"}},[r("sart-container",{staticClass:"workspace__media-viewer",staticStyle:{"flex-grow":"1"},attrs:{tag:"article"}},[r("h1",[e._v("Annotate and Sub Media "+e._s(e.mediaFile.name))]),e._v(" "),r("input",{ref:"loadMediaFileBtn",attrs:{type:"file","data-test":"loadMediaFileBtn"},on:{change:e.fileLoaded}}),e._v(" "),r("br"),e._v(" "),r("p",{staticClass:"txt--danger"},[e._v("\n      [Note: Your video or audio is not uploaded or backed up any where ]\n    ")]),e._v(" "),r("sart-media-player",{ref:"mediaPlayer",staticClass:"workspace__media-player",attrs:{"media-uri":e.mediaUri,"media-file":e.mediaFile},on:{"req-media-uri":e.requestVideo,play:e.onPlayMedia,timeupdate:e.mediaTimeUpdate}}),e._v(" "),e.showError?r("div",{staticClass:"txt--danger alert"},[r("button",{staticClass:"txt--danger",on:{click:function(t){e.showError=!1}}},[e._v("[x]")]),e._v("\n        "+e._s(e.errorText)+"\n    ")]):e._e(),e._v(" "),e.showSuccess?r("div",{staticClass:"txt--success alert"},[r("button",{staticClass:"txt--success",on:{click:function(t){e.showSuccess=!1}}},[e._v("[x]")]),e._v("\n        "+e._s(e.successText)+"\n    ")]):e._e()],1),e._v(" "),r("sart-container",{staticStyle:{"min-width":"300px"},attrs:{tag:"article"}},[r("h2",[e._v("Subtitle Preview")]),e._v(" "),r("sart-toolbar",[r("spacer"),e._v(" "),r("label",{staticClass:"txt--danger",attrs:{for:"showActions"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.showActions,expression:"showActions"}],attrs:{type:"checkbox",name:"showActions"},domProps:{checked:Array.isArray(e.showActions)?e._i(e.showActions,null)>-1:e.showActions},on:{change:function(t){var r=e.showActions,n=t.target,o=!!n.checked;if(Array.isArray(r)){var l=e._i(r,null);n.checked?l<0&&(e.showActions=r.concat([null])):l>-1&&(e.showActions=r.slice(0,l).concat(r.slice(l+1)))}else e.showActions=o}}}),e._v("\n        [Show Sub Actions]\n      ")]),e._v(" "),r("label",{staticClass:"txt--danger",attrs:{for:"autoScroll"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.autoScroll,expression:"autoScroll"}],attrs:{type:"checkbox",name:"autoScroll"},domProps:{checked:Array.isArray(e.autoScroll)?e._i(e.autoScroll,null)>-1:e.autoScroll},on:{change:function(t){var r=e.autoScroll,n=t.target,o=!!n.checked;if(Array.isArray(r)){var l=e._i(r,null);n.checked?l<0&&(e.autoScroll=r.concat([null])):l>-1&&(e.autoScroll=r.slice(0,l).concat(r.slice(l+1)))}else e.autoScroll=o}}}),e._v("\n        [Auto scroll]\n      ")])],1),e._v(" "),r("div",{ref:"subtitlePreviewContainer",staticClass:"workspace__preview"},[r("sart-subtitle-preview",{ref:"subtitlePreviewer",attrs:{subtitles:e.subtitles,"show-actions":e.showActions,"current-time":e.currentTime,"auto-scroll":e.autoScroll},on:{"sub-clicked":e.jumpToSubTime,delete:e.deleteCue}})],1)],1),e._v(" "),r("sart-container",{attrs:{fluid:"",tag:"article"}},[r("h3",[e._v("Cue Editor")]),e._v(" "),r("sart-toolbar",[r("button",{staticClass:"btn--primary",class:{"btn--success":!!e.startTime},attrs:{disabled:!e.mediaUri},on:{click:e.start}},[e._v("\n        Start="+e._s(e.startTime||e.formattedCurrentTime)+"\n      ")]),e._v(" "),r("button",{staticClass:"btn--primary",class:{"btn--success":!!e.endTime},attrs:{disabled:!e.mediaUri},on:{click:function(t){e.endTime=e.formattedCurrentTime}}},[e._v("\n        End="+e._s(e.endTime||e.formattedCurrentTime)+"\n      ")]),e._v(" "),r("spacer"),e._v(" "),r("button",{attrs:{disabled:!e.mediaUri},on:{click:e.toggleMediaPlay}},[e._v("\n        "+e._s(e.playing?"Pause":"Play")+"\n      ")]),e._v(" "),r("button",{attrs:{disabled:!e.mediaUri},on:{click:e.commit}},[e._v("\n        Add\n        "),r("material-icon",{attrs:{icon:"plus-thick"}})],1),e._v(" "),r("button",{on:{click:function(t){e.subtitles=[]}}},[e._v("\n        Clear\n        "),r("material-icon",{attrs:{icon:"notification-clear-all"}})],1),e._v(" "),r("button",{attrs:{disabled:e.subtitles.length<1},on:{click:e.generate}},[e._v("\n        Generate\n      ")]),e._v(" "),r("a",{directives:[{name:"show",rawName:"v-show",value:e.fileWriter.uri,expression:"fileWriter.uri"}],staticClass:"btn",class:{"btn--success":!!e.fileWriter.uri},attrs:{href:e.fileWriter.uri,download:e.mediaFile.name+".vtt"}},[e._v("\n        Download\n      ")])],1),e._v(" "),r("transcript-editor",{model:{value:e.subtitle,callback:function(t){e.subtitle=t},expression:"subtitle"}})],1)],1)}),[],!1,null,null,null));t.default=y.exports}}]);